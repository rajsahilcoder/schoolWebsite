<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Donate Us - webTech</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/Montserrat.css" />
    <link rel="stylesheet" href="assets/css/swiper-icons.css" />
    <link rel="stylesheet" href="assets/css/baguetteBox.min.css" />
    <link rel="stylesheet" href="assets/css/Multi-step-form.css" />
    <link
      rel="stylesheet"
      href="assets/css/Simple-Slider-swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="assets/css/Simple-Slider.css" />
    <link rel="stylesheet" href="assets/css/vanilla-zoom.min.css" />
  </head>

  <body>
    <nav
      class="navbar navbar-light navbar-expand-lg fixed-top bg-white clean-navbar"
      style="position: relative"
    >
      <div class="container">
        <a class="navbar-brand logo" href="#"
          ><img
            src="/assets/img/nps_inr_logo.png"
            width="177"
            height="94"
            style="margin-left: 2px; padding-right: 10px" /></a
        ><button
          data-bs-toggle="collapse"
          class="navbar-toggler"
          data-bs-target="#navcol-1"
        >
          <span class="visually-hidden">Toggle navigation</span
          ><span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navcol-1">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" href="/">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="#"
                >about us</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="/about-us">Overview</a
                ><a class="dropdown-item" href="/blog-post"
                  >Vision and Mission</a
                ><a class="dropdown-item" href="/features">Facilities</a
                ><a class="dropdown-item" href="/testimonials">Testimonials</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="/faq"
                >programme</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Scholastic Programme</a
                ><a class="dropdown-item" href="#">Co-Scholastic Programme</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="#"
                >admissions</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="/service-page"
                  >Admission Process-KG1 &amp; Montessori</a
                ><a class="dropdown-item" href="#"
                  >Admission Process-Grade 2 to 9</a
                ><a class="dropdown-item" href="#"
                  >Admission Process-Grade 11</a
                >
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="#"
                >events</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="/gallery">Archive 2022-2023</a
                ><a class="dropdown-item" href="#">Archive 2021-2022</a
                ><a class="dropdown-item" href="#">Archive 2020-2021</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="#"
                >resources</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">From the Chairman's Desk</a
                ><a class="dropdown-item" href="#">Careers</a
                ><a class="dropdown-item" href="#">School Policies</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/contact-us">contact us</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="dropdown-toggle nav-link"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                href="#"
                >services</a
              >
              <div class="dropdown-menu">
                <a class="dropdown-item" href="/donate2">Payment</a
                ><a class="dropdown-item" href="/login">Parent's Portal</a>
              </div>
            </li>
          </ul>
          <ul class="navbar-nav">
            <li class="nav-item"></li>
            <li class="nav-item"></li>
          </ul>
        </div>
      </div>
    </nav>
    <main class="page">
      <section class="clean-block slider">
        <div class="container">
          <div class="block-heading">
            <h2 class="text-info">DONATE US</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam
              urna, dignissim nec auctor in, mattis vitae leo.
            </p>
          </div>
          <section>
            <div
              id="multple-step-form-n"
              class="container overflow-hidden"
              style="
                margin-top: 0px;
                margin-bottom: 10px;
                padding-bottom: 300px;
                padding-top: 57px;
              "
            >
              <div id="progress-bar-button" class="multisteps-form">
                <div class="row">
                  <div class="col-12 col-lg-8 ml-auto mr-auto mb-4">
                    <div class="multisteps-form__progress">
                      <a
                        class="btn multisteps-form__progress-btn js-active"
                        role="button"
                        title="User Info"
                        >User Info</a
                      ><a
                        class="btn multisteps-form__progress-btn"
                        role="button"
                        title="User Info"
                        >Amount</a
                      ><a
                        class="btn multisteps-form__progress-btn"
                        role="button"
                        title="User Info"
                        >Designation</a
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div id="multistep-start-row" class="row" style="height: 300px">
                <div id="multistep-start-column" class="col-12 col-lg-8 m-auto">
                  <form id="main-form" class="multisteps-form__form">
                    <div
                      id="single-form-next"
                      class="multisteps-form__panel shadow p-4 rounded bg-white js-active"
                      data-animation="scaleIn"
                    >
                      <h3 class="text-center multisteps-form__title">
                        User Info
                      </h3>
                      <div id="form-content" class="multisteps-form__content">
                        <div id="input-grp-double" class="form-row mt-4">
                          <div class="col-12 col-sm-6">
                            <input
                              class="form-control multisteps-form__input"
                              type="text"
                              placeholder="First name "
                              id="name"
                              name="name"
                            />
                          </div>
                          <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                            <input
                              class="form-control multisteps-form__input"
                              type="text"
                              placeholder="Last name "
                            />
                          </div>
                        </div>
                        <div id="input-grp-single" class="form-row mt-4">
                          <div class="col-12">
                            <input
                              class="form-control multisteps-form__input"
                              type="email"
                              placeholder="Email"
                              id="email"
                              name="email"
                            />
                          </div>
                        </div>
                        <div id="input-grp-single-4" class="form-row mt-4">
                          <div class="col-12">
                            <input
                              class="form-control multisteps-form__input"
                              type="text"
                              id="phone"
                              name="phone"
                              placeholder="Phone"
                              min="10"
                              ,max="10"
                            />
                          </div>
                        </div>
                        <div id="input-grp-single-3" class="form-row mt-4">
                          <div class="col-12">
                            <input
                              class="form-control multisteps-form__input"
                              type="text"
                              placeholder="Address"
                            />
                          </div>
                        </div>
                        <div id="next-button" class="button-row d-flex mt-4">
                          <button
                            class="btn btn btn-primary ml-auto js-btn-next"
                            type="button"
                            title="Next"
                          >
                            Next
                          </button>
                        </div>
                      </div>
                    </div>
                    <div
                      id="single-form-next-prev"
                      class="multisteps-form__panel shadow p-4 rounded bg-white"
                      data-animation="scaleIn"
                    >
                      <h3 class="text-center multisteps-form__title">Amount</h3>
                      <div id="form-content-1" class="multisteps-form__content">
                        <label for="amount" class="form-label"
                          >Enter Amount</label
                        >
                        <select id="amount" name="amount" class="form-control">
                          <option value="10">10</option>
                          <option value="20">20</option>
                          <option value="100">100</option>
                        </select>

                        <div
                          id="next-prev-buttons"
                          class="button-row d-flex mt-4"
                        >
                          <button
                            class="btn btn btn-primary js-btn-prev"
                            type="button"
                            title="Prev"
                          >
                            Prev</button
                          ><button
                            class="btn btn btn-primary ml-auto js-btn-next"
                            type="button"
                            title="Next"
                          >
                            Next
                          </button>
                        </div>
                      </div>
                    </div>
                    <div
                      id="single-form-next-prev-1"
                      class="multisteps-form__panel shadow p-4 rounded bg-white"
                      data-animation="scaleIn"
                    >
                      <h3 class="text-center multisteps-form__title">
                        Designation
                      </h3>
                      <div id="form-content-2" class="multisteps-form__content">
                        <div id="input-grp-single-2" class="form-row mt-4">
                          <div class="col-12">
                            <select
                              autocomplete="off"
                              data-prompt="Choose one"
                              name="designation"
                              id="donation_designation"
                            >
                              <option value="">Choose one</option>
                              <option
                                value="Area of greatest need (Annual Fund)"
                              >
                                Area of greatest need (Annual Fund)
                              </option>
                              <option value="Scholarship Fund">
                                Scholarship Fund
                              </option>
                              <option
                                value="The Fitzsimmons Scholarship for Women in Leadership"
                              >
                                The Fitzsimmons Scholarship for Women in
                                Leadership
                              </option>
                              <option value="Rula Jebreal Scholarship Fund">
                                Rula Jebreal Scholarship Fund
                              </option>
                              <option value="Aventinus Minor Project">
                                Aventinus Minor Project
                              </option>
                              <option
                                value="The Center for Design-thinking &amp; Entrepreneurship"
                              >
                                The Center for Design-thinking &amp;
                                Entrepreneurship
                              </option>
                              <option
                                value="Other (please specify in the comment box)"
                              >
                                Other (please specify in the comment box)
                              </option>
                            </select>
                          </div>
                        </div>
                        <div
                          id="next-prev-buttons-1"
                          class="button-row d-flex mt-4"
                        >
                          <button
                            class="btn btn btn-primary js-btn-prev"
                            type="button"
                            title="Prev"
                          >
                            Prev</button
                          ><button
                            class="btn btn btn-primary ml-auto js-btn-next"
                            id="rzp-button1"
                            type="submit"
                            title="Next"
                          >
                            Donate
                          </button>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </section>
        </div>
      </section>
    </main>
    <footer class="page-footer dark">
      <div class="container">
        <div class="row">
          <div class="col-sm-3">
            <h5>
              <img
                src="assets/img/nps_inr_logo_footer.png"
                width="182"
                height="61"
              />
            </h5>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">Admissions</a></li>
            </ul>
          </div>
          <div class="col">
            <iframe
              allowfullscreen=""
              frameborder="0"
              loading="lazy"
              src="https://www.google.com/maps/embed/v1/place?key=AIzaSyAb1TnzbTWaK5vAsG17LprRkoYNpmejTSY&amp;q=XJ9W%2BRMX%2C+12th+A+Main+Rd%2C+HAL+2nd+Stage%2C+Indiranagar%2C+Bengaluru%2C+Karnataka+560008&amp;zoom=11"
              width="100%"
              height="400"
              style="height: 270px"
            ></iframe>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <p>© 2023 Copyright Text</p>
      </div>
    </footer>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/baguetteBox.min.js"></script>
    <script src="assets/js/vanilla-zoom.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="assets/js/Multi-step-form-script.js"></script>
    <script src="assets/js/Simple-Slider-swiper-bundle.min.js"></script>
    <script src="assets/js/Simple-Slider.js"></script>
    <!-- Razorpay integration  -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script>
      document.getElementById("rzp-button1").onclick = async function (e) {
        let amount = document.getElementById("amount").value;
        let name = document.getElementById("name").value;
        let email = document.getElementById("email").value;
        let phone = document.getElementById("phone").value;
        console.log(amount);
        e.preventDefault();

        let response = await fetch("/payment", {
          method: "POST",
          mode: "cors",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            amount: amount,
          }),
        });

        let orderData = await response.json();
        var options = {
          key: "rzp_live_LfcSrKxIsWjIIW", // Enter the Key ID generated from the Dashboard
          amount: amount * 100, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
          currency: "INR",

          order_id: orderData, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
          callback_url: "/thank.ejs",
          prefill: {
            name: name,
            email: email,
            contact: phone,
          },

          theme: {
            color: "#3399cc",
          },
          config: {
            display: {
              blocks: {
                upi: {
                  name: "upi",
                  instruments: [
                    {
                      method: "upi",
                    },
                  ],
                },
              },
            },
          },
          // config: {
          //   display: {
          //     blocks: {
          //       banks: {
          //         name: "Most Used Methods",
          //         instruments: [
          //           {
          //             method: "wallet",
          //             wallets: ["freecharge"],
          //           },
          //           {
          //             method: "upi",
          //           },
          //         ],
          //       },
          //     },
          //     sequence: ["block.banks"],
          //     preferences: {
          //       show_default_blocks: true,
          //     },
          //   },
          // },
          // handler: function (response) {
          //   alert(response.razorpay_payment_id);
          // },
          // modal: {
          //   ondismiss: function () {
          //     if (confirm("Are you sure, you want to close the form?")) {
          //       txt = "You pressed OK!";
          //       console.log("Checkout form closed by the user");
          //     } else {
          //       txt = "You pressed Cancel!";
          //       console.log("Complete the Payment");
          //     }
          //   },
          // },
        };
        var rzp1 = new Razorpay(options);

        rzp1.open();
      };
    </script>
    <script>
      //DOM elements
      const DOMstrings = {
        stepsBtnClass: "multisteps-form__progress-btn",
        stepsBtns: document.querySelectorAll(`.multisteps-form__progress-btn`),
        stepsBar: document.querySelector(".multisteps-form__progress"),
        stepsForm: document.querySelector(".multisteps-form__form"),
        // stepsFormTextareas: document.querySelectorAll('.multisteps-form__textarea'),
        stepFormPanelClass: "multisteps-form__panel",
        stepFormPanels: document.querySelectorAll(".multisteps-form__panel"),
        stepPrevBtnClass: "js-btn-prev",
        stepNextBtnClass: "js-btn-next",
      };

      //remove class from a set of items
      const removeClasses = (elemSet, className) => {
        elemSet.forEach((elem) => {
          elem.classList.remove(className);
        });
      };

      //return exect parent node of the element
      const findParent = (elem, parentClass) => {
        let currentNode = elem;

        while (!currentNode.classList.contains(parentClass)) {
          currentNode = currentNode.parentNode;
        }

        return currentNode;
      };

      //get active button step number
      const getActiveStep = (elem) => {
        return Array.from(DOMstrings.stepsBtns).indexOf(elem);
      };

      //set all steps before clicked (and clicked too) to active
      const setActiveStep = (activeStepNum) => {
        //remove active state from all the state
        removeClasses(DOMstrings.stepsBtns, "js-active");

        //set picked items to active
        DOMstrings.stepsBtns.forEach((elem, index) => {
          if (index <= activeStepNum) {
            elem.classList.add("js-active");
          }
        });
      };

      //get active panel
      const getActivePanel = () => {
        let activePanel;

        DOMstrings.stepFormPanels.forEach((elem) => {
          if (elem.classList.contains("js-active")) {
            activePanel = elem;
          }
        });

        return activePanel;
      };

      //open active panel (and close unactive panels)
      const setActivePanel = (activePanelNum) => {
        //remove active class from all the panels
        removeClasses(DOMstrings.stepFormPanels, "js-active");

        //show active panel
        DOMstrings.stepFormPanels.forEach((elem, index) => {
          if (index === activePanelNum) {
            elem.classList.add("js-active");

            setFormHeight(elem);
          }
        });
      };

      //set form height equal to current panel height
      const formHeight = (activePanel) => {
        const activePanelHeight = activePanel.offsetHeight;

        DOMstrings.stepsForm.style.height = `${activePanelHeight}px`;
      };

      const setFormHeight = () => {
        const activePanel = getActivePanel();

        formHeight(activePanel);
      };

      //STEPS BAR CLICK FUNCTION
      DOMstrings.stepsBar.addEventListener("click", (e) => {
        //check if click target is a step button
        const eventTarget = e.target;

        if (!eventTarget.classList.contains(`${DOMstrings.stepsBtnClass}`)) {
          return;
        }

        //get active button step number
        const activeStep = getActiveStep(eventTarget);

        //set all steps before clicked (and clicked too) to active
        setActiveStep(activeStep);

        //open active panel
        setActivePanel(activeStep);
      });

      //PREV/NEXT BTNS CLICK
      DOMstrings.stepsForm.addEventListener("click", (e) => {
        const eventTarget = e.target;

        //check if we clicked on `PREV` or NEXT` buttons
        if (
          !(
            eventTarget.classList.contains(`${DOMstrings.stepPrevBtnClass}`) ||
            eventTarget.classList.contains(`${DOMstrings.stepNextBtnClass}`)
          )
        ) {
          return;
        }

        //find active panel
        const activePanel = findParent(
          eventTarget,
          `${DOMstrings.stepFormPanelClass}`
        );

        let activePanelNum = Array.from(DOMstrings.stepFormPanels).indexOf(
          activePanel
        );

        //set active step and active panel onclick
        if (eventTarget.classList.contains(`${DOMstrings.stepPrevBtnClass}`)) {
          activePanelNum--;
        } else {
          activePanelNum++;
        }

        setActiveStep(activePanelNum);
        setActivePanel(activePanelNum);
      });

      //SETTING PROPER FORM HEIGHT ONLOAD
      window.addEventListener("load", setFormHeight, false);

      //SETTING PROPER FORM HEIGHT ONRESIZE
      window.addEventListener("resize", setFormHeight, false);

      //changing animation via animation select !!!YOU DON'T NEED THIS CODE (if you want to change animation type, just change form panels data-attr)

      const setAnimationType = (newType) => {
        DOMstrings.stepFormPanels.forEach((elem) => {
          elem.dataset.animation = newType;
        });
      };

      //selector onchange - changing animation
      const animationSelect = document.querySelector(".pick-animation__select");

      animationSelect.addEventListener("change", () => {
        const newAnimationType = animationSelect.value;

        setAnimationType(newAnimationType);
      });
    </script>
  </body>
</html>
